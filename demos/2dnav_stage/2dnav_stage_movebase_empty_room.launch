<launch>

  <group name="wg">
    <node pkg="rosstage" type="rosstage" args="$(find 2dnav_stage)/worlds/willow-gps-pr2-5cm.world" respawn="false" output="screen"/>
    <node pkg="map_server" type="map_server" args="$(find 2dnav_stage)/maps/willow-empty-0.05.pgm 0.05" respawn="false" output="screen"/>
    <param name="robot_radius" value="0.325"/>
    <!-- node pkg="wavefront_player" type="wavefront_player" respawn="false" output="screen">
      <remap from="scan" to="base_scan" />
    </node -->
    <node pkg="nav_view" type="nav_view" respawn="false" output="screen"/>
    <!--node pkg="nav_view_sdl" type="nav_view" respawn="false" output="screen"/> -->

    <param name="move_base/environmentList" value="2D,3DKIN"/> <!-- future extension -->
    <param name="move_base/plannerList" value="ADPlanner,ARAPlanner"/> <!-- future extension -->
    <param name="move_base/plannerType" value="ARAPlanner"/>
    <param name="move_base/environmentType" value="2D"/>
    <param name="move_base/controller_frequency" value="30.0"/>
    <param name="move_base/planner_frequency" value="0.0"/>
    <param name="move_base/plannerTimeLimit" value="0.5"/>
    <param name="move_base/map_update_frequency" value="5.0"/>
    <param name="/costmap_2d/base_laser_max_range" value="20.0"/>
    <param name="/costmap_2d/tilt_laser_max_range" value="2.0"/>
    <param name="/costmap_2d/lethal_obstacle_threshold" value="100.0"/>
    <param name="/costmap_2d/no_information_value" value="255"/>
    <param name="/costmap_2d/z_threshold_max" value="2.0"/>
    <param name="/costmap_2d/z_threshold_min" value="0.13"/>
    <param name="/costmap_2d/freespace_projection_height" value="2.0"/>
    <param name="/costmap_2d/inflation_radius" value="0.65"/>
    <param name="/costmap_2d/circumscribed_radius" value="0.46"/>
    <param name="/costmap_2d/inscribed_radius" value="0.325"/>
    <param name="/costmap_2d/raytrace_window" value="10.0"/>
    <param name="/costmap_2d/weight" value="0.1"/>

    <param name="/global_frame_id" value="odom"/>

    <!-- Forces a check that we are receiving base scans that are correctly up to date at a rate of at least 10 Hz -->
    <param name="/costmap_2d/base_laser_update_rate" value="2.0"/>

    <!-- Don't Forces a check that we are receiving tilt scans that are correctly up to date at a rate of at least 10 Hz -->
    <param name="/costmap_2d/tilt_laser_update_rate" value="0.0"/>

    <!-- we don't have stereo data yet -->
    <param name="/costmap_2d/stereo_update_rate" value="0.0"/>

    <!--- Don't check for ground plane obstacles -->
    <param name="/costmap_2d/low_obstacle_update_rate" value="0.0"/>

    <param name="/trajectory_rollout/map_size" value="4.0" />
    <param name="/trajectory_rollout/sim_time" value="1.0" />
    <param name="/trajectory_rollout/sim_steps" value="20" />
    <param name="/trajectory_rollout/samples_per_dim" value="25" />
    <param name="/trajectory_rollout/occdist_scale" value="0.2" />
    <param name="/trajectory_rollout/path_distance_bias" value="0.6" />
    <param name="/trajectory_rollout/goal_distance_bias" value="0.8" />
    <param name="/trajectory_rollout/acc_limit_x" value="2.5" />
    <param name="/trajectory_rollout/acc_limit_y" value="2.5" />
    <param name="/trajectory_rollout/acc_limit_th" value="3.2" />

    <node pkg="highlevel_controllers" type="move_base_navfn" respawn="true" output="screen"/>

  </group>
</launch>


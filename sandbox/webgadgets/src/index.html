<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <link rel='stylesheet' type='text/css' href='style.css'/>
    <script type="text/javascript" src="3rdparty/prototype.js"></script>
    <script type="text/javascript" src="3rdparty/wz_jsgraphics.js"></script>
    <script type="text/javascript" src="ros.js"></script>
    <script type="text/javascript" src="image_gadget.js"></script>
    <script type="text/javascript" src="map_gadget.js"></script>
    <script type="text/javascript" src="startup_gadget.js"></script>
    <script type="text/javascript" src="joystick_gadget.js"></script>
    <script type="text/javascript">

      function showGadgets()
      {
        width = document.body.clientWidth;
        height = document.body.clientHeight;

        l= width * 0.1;
        t= height * 0.1;

        newDiv = document.getElementById('displaybox');
        newDiv.style.display = "";
        newDiv.style.top = t;
        newDiv.style.left = l;
      }

      function hideGadgets()
      {
        document.getElementById('displaybox').style.display="none";
      }

      function addGadget(name)
      {
        if (name == "image_gadget")
          gadget = new ROSImageGadget();
        else if (name == "map_gadget")
          gadget = new ROSMapGadget();
        else if (name == "joystick_gadget")
          gadget = new ROSJoystickGadget();
      }

      function init()
      {
        var gadget = new ROSStartupGadget();
      }

      window.onload = init;
    </script>
  </head>

  <body>

    <div id="mainheader">
      <div id="title"><object data='images/maintitle.svg' width="100%" height="100%" type='image/svg+xml'></div>
      <div style="width:100%; text-align: right;"><a href='#' onclick='showGadgets();'>+ Add Gadget</a></div>
    </div>

    <!-- This is the pop-up window that allows a user to add gadgets -->
    <div id='displaybox' style="display:none;">

      <div style='border:1px solid black;display:block;width:100%;background-image: url("images/gadgetHeaderBkg.png");background-repeat:repeat-x; height: 30px; vertical-align:middle;'>
        <a href='#' style="float:left; float:top; padding-top:2px;font-weight: bold;" onclick="hideGadgets();"><img src='images/xicon.png' height="15px" style="border:none;margin-left:2px;"></a>
        <b style="color: #ffffff;font-size:180%;vertical-align:middle;">Add Gadget</b>
      </div>

      <div id="gadgetdesc">
        <div id="imgbox">
          <a href="#" style="display: block;" onclick="addGadget('image_gadget');">
            <img src="images/imageview.png" style="margin-bottom:10px;display:block;border:1px solid black;" height="100px">
          <b>Add Now</b></a>
        </div>

        <p>
          <h2>Image Viewer</h2>
          The image viewer gadget displays and image from a topic that
          publishes messages of type sensor_msgs/CompressedImage or
          sensor_msgs/Image.
        </p>
      </div>

      <div id="gadgetdesc">
        <div id="imgbox">
          <a href="#" style="display:block;" onclick="addGadget('map_gadget');">
            <img src="images/navview.png" style="margin-bottom:10px;display:block; border: 1px solid bloack;" height ="100px">
          <b>Add Now</b></a>
        </div>

        <p>
          <h2>Navigation Viewer</h2>
          The navigation viewer gadget displays the static map, the pose of
          the robot, and it's planned path. It is possible to set the robot's
          pose, and assign a goal pose.
          The map can be panned by clicking the left mouse button and dragging.
          The map can be zoomed using the middle scroll wheel.
        </p>
      </div>

      <div id="gadgetdesc">
        <div id="imgbox">
          <a href="#" style="display:block;" onclick="addGadget('joystick_gadget');">
            <img src="images/navview.png" style="margin-bottom:10px;display:block; border: 1px solid bloack;" height ="100px">
          <b>Add Now</b></a>
        </div>

        <p>
          <h2>Joystick</h2>
          The joystick gadget is capable of starting the joystick controller
          for the robot. Once started the external PS3 jostick can be used
          to drive the robot.
        </p>
      </div>

    </div>

    <div id='maincontent'> </div>

  </body>
</html>
